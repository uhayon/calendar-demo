(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports={remindersList:"RemindersList_remindersList__3aAwJ",reminderItem:"RemindersList_reminderItem__1GZrh",deleteReminder:"RemindersList_deleteReminder__33JYb"}},24:function(e,t,a){e.exports={modalContainer:"Modal_modalContainer__28A7L",overlay:"Modal_overlay__1TgzI",modal:"Modal_modal__1vwov",closeButton:"Modal_closeButton__3Jizr"}},25:function(e,t,a){e.exports={dayRemindersModal:"DayRemindersModal_dayRemindersModal__2QYUS",dayRemindersModalTitle:"DayRemindersModal_dayRemindersModalTitle__LKb83",deleteAll:"DayRemindersModal_deleteAll__1Uklx",addButton:"DayRemindersModal_addButton__1_AWI"}},4:function(e,t,a){e.exports={reminderForm:"ReminderForm_reminderForm__2MScg",form:"ReminderForm_form__lhVDV",reminderConfirm:"ReminderForm_reminderConfirm__3WsIO",fieldLabel:"ReminderForm_fieldLabel__1NW8-",field:"ReminderForm_field__1T2ab",fieldError:"ReminderForm_fieldError__3W-Yl",colorsContainer:"ReminderForm_colorsContainer__Emceq",colorItem:"ReminderForm_colorItem__1rSig",active:"ReminderForm_active__1q2M0"}},42:function(e,t,a){e.exports={calendarHeader:"CalendarHeader_calendarHeader__y9fGb"}},44:function(e){e.exports=["#16a085","#2980b9","#8e44ad","#c0392b","#f39c12"]},45:function(e,t,a){e.exports=a(75)},7:function(e,t,a){e.exports={calendarBody:"CalendarBody_calendarBody__3tfJR",calendarDaysTitleContainer:"CalendarBody_calendarDaysTitleContainer__2_pyE",dayTitle:"CalendarBody_dayTitle__16hfc",calendarWeeksContainer:"CalendarBody_calendarWeeksContainer__1GkeV",calendarWeekRow:"CalendarBody_calendarWeekRow__h_T1h",calendarItem:"CalendarBody_calendarItem__Dfa74",inactive:"CalendarBody_inactive__3HOys",dayNumber:"CalendarBody_dayNumber__2kOb4",today:"CalendarBody_today__2qh-L"}},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),l=a(5),i=a(16),d=a(2),s=a(8),m=a.n(s),u=a(21),p=a.n(u),f=m()(new Date).hours(0).minutes(0).seconds(0).milliseconds(0),y=m.a.months(),h={shortNames:m.a.weekdaysShort(),fullNames:m.a.weekdays()},b=function(e){for(var t=e.month,a=e.year,n=[],r=m()(new Date(a,t,1,0,0,0)),o=r.clone().add(1,"month").subtract(1,"days");r.day()>0;)r.subtract(1,"days");for(;o.day()<6;)o.add(1,"days");for(;r.diff(o,"days")<=0;)n.push({date:r.clone(),isFromCurrentMonth:r.month()===t}),r.add(1,"days");return p.a.chunk(n,7)},v={selectedMonth:f.month(),selectedYear:f.year()},E=a(3),_={},O=Object(i.b)({calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;switch((arguments.length>1?arguments[1]:void 0).type){case"SET_NEXT_MONTH":return Object(d.a)({},e,function(e){var t=e.month,a=e.year;return t<11?{selectedMonth:++t,selectedYear:a}:{selectedMonth:0,selectedYear:++a}}({month:e.selectedMonth,year:e.selectedYear}));case"SET_PREVIOUS_MONTH":return Object(d.a)({},e,function(e){var t=e.month,a=e.year;return t>0?{selectedMonth:--t,selectedYear:a}:{selectedMonth:11,selectedYear:--a}}({month:e.selectedMonth,year:e.selectedYear}));default:return e}},reminders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_REMINDER":var a=Object(d.a)({},e[t.payload.date.year()])||{},n=Object(d.a)({},a[t.payload.date.month()])||{},r=n[t.payload.date.date()]||{};return r[t.payload.time]=t.payload,Object(d.a)({},e,Object(E.a)({},t.payload.date.year(),Object(d.a)({},a,Object(E.a)({},t.payload.date.month(),Object(d.a)({},n,Object(E.a)({},t.payload.date.date(),r))))));case"EDIT_REMINDER":return Object(d.a)({},e,Object(E.a)({},t.payload.date.year(),Object(d.a)({},e[t.payload.date.year()],Object(E.a)({},t.payload.date.month(),Object(d.a)({},e[t.payload.date.year()][t.payload.date.month()],Object(E.a)({},t.payload.date.date(),Object(d.a)({},e[t.payload.date.year()][t.payload.date.month()][t.payload.date.date()],Object(E.a)({},t.payload.time,t.payload))))))));case"REMOVE_REMINDER":var o=Object(d.a)({},e[t.payload.date.year()]),c=Object(d.a)({},o[t.payload.date.month()]),l=Object(d.a)({},c[t.payload.date.date()]);return Object(d.a)({},e,Object(E.a)({},t.payload.date.year(),Object(d.a)({},o,Object(E.a)({},t.payload.date.month(),Object(d.a)({},c,Object(E.a)({},t.payload.date.date(),p.a.omit(l,t.payload.time)))))));case"REMOVE_ALL_DAY_REMINDERS":var i=Object(d.a)({},e[t.payload.year()]),s=Object(d.a)({},i[t.payload.month()]);return Object(d.a)({},e,Object(E.a)({},t.payload.year(),Object(d.a)({},i,Object(E.a)({},t.payload.month(),Object(d.a)({},p.a.omit(s,t.payload.date()))))));default:return e}}}),C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,R=Object(i.d)(O,C()),j=function(e){return{type:"REMOVE_REMINDER",payload:e}},M=a(42),k=a.n(M),D={setNextMonth:function(){return{type:"SET_NEXT_MONTH"}},setPreviousMonth:function(){return{type:"SET_PREVIOUS_MONTH"}}},N=Object(l.b)(function(e){var t=e.calendar;return{selectedMonth:t.selectedMonth,selectedYear:t.selectedYear}},D)(function(e){var t=e.selectedMonth,a=e.selectedYear,n=e.setNextMonth,o=e.setPreviousMonth;return r.a.createElement("div",{className:k.a.calendarHeader},r.a.createElement("button",{onClick:o},"<"),r.a.createElement("div",null,"".concat(y[t]," / ").concat(a)),r.a.createElement("button",{onClick:n},">"))}),g=a(27),w=function(){return window.innerWidth<=750},S=a(10),x=a(11),I=a(13),T=a(12),F=a(14),Y=a(9),L=a.n(Y),B=a(17),V=a(43),A=a.n(V).a.create({baseURL:"https://api.openweathermap.org/data/2.5",params:{appid:"71537e9c0483dc4aa421eb4f7e66cdd5"}}),H=function(){var e=Object(B.a)(L.a.mark(function e(t){var a,n,r,o,c;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.options,e.prev=1,e.next=4,A.get(a,n);case 4:return r=e.sent,o=Object(g.a)(r.data.weather,1),c=o[0],e.abrupt("return",c.main);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return","");case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(B.a)(L.a.mark(function e(t){var a;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({url:"/weather",options:{params:{q:t}}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),W=function(){for(var e=[],t=0;t<24;t++)for(var a=0;a<4;a++){var n=15*a;e.push(m()().hours(t).minutes(n).format("HH:mm"))}return e}(),J=function(e){return Object.keys(e).sort().reduce(function(t,a){return t.push(e[a]),t},[])},U=function(){var e=Object(B.a)(L.a.mark(function e(t){var a;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),X=a(24),q=a.n(X),z=function(e){var t=e.children,a=e.onDismiss,n=e.showOverlay;return c.a.createPortal(r.a.createElement("div",{onClick:a,className:"".concat(q.a.modalContainer," ").concat(n?q.a.overlay:"")},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:q.a.modal},r.a.createElement("button",{onClick:a,className:q.a.closeButton},"X"),t)),document.getElementById("rootModal"))},G=a(4),K=a.n(G),Q=function(e){var t=e.onColorClick,a=e.selectedColor,n=e.colors;return r.a.createElement("div",{className:K.a.colorsContainer},n.map(function(e){return r.a.createElement("div",{key:e,style:{backgroundColor:e},className:"".concat(K.a.colorItem," ").concat(a===e?K.a.active:""),onClick:function(){return t(e)}})}))},Z=function(e){var t=e.type,a=e.onChange,n=e.value,o=e.options,c=e.errorState,l=e.disabled;switch(t){case"multilineText":return r.a.createElement("textarea",{className:"".concat(K.a.field," ").concat(c?K.a.fieldError:""),cols:"30",rows:"10",value:n,onChange:a,maxLength:"30",disabled:l});case"colorPicker":return r.a.createElement("div",{style:{padding:"1em"},className:"".concat(K.a.field," ").concat(c?K.a.fieldError:"")},r.a.createElement(Q,{colors:o,onColorClick:a,selectedColor:n,errorState:c,disabled:l}));case"timePicker":return r.a.createElement("select",{value:n,onChange:a,className:K.a.field,disabled:l},o.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}));default:return r.a.createElement("input",{className:"".concat(K.a.field," ").concat(c?K.a.fieldError:""),type:t,value:n,onChange:a,disabled:l})}},$=function(e){var t=e.title,a=e.type,n=e.value,o=e.onChange,c=e.options,l=e.errorState,i=e.disabled;return r.a.createElement("label",{className:K.a.fieldLabel},t,r.a.createElement(Z,{type:a,value:n,onChange:o,options:c,errorState:l,disabled:i}))},ee=a(44),te=function(e){function t(e){var a;Object(S.a)(this,t),(a=Object(I.a)(this,Object(T.a)(t).call(this,e))).onInputChange=function(e,t){a.setState(function(a){return{formValues:Object(d.a)({},a.formValues,Object(E.a)({},e,t))}})},a.fieldsValid=function(){var e=a.state.formValues,t=e.text,n=e.city,r=e.color,o={city:""===n.trim(),text:""===t.trim(),color:""===r.trim()},c=Object.keys(o).reduce(function(e,t){return e&&!o[t]},!0);return c||a.setState({formErrors:o}),c},a.onSubmitForm=function(e){e.preventDefault(),a.setState({formErrors:{text:!1,color:!1,city:!1}},Object(B.a)(L.a.mark(function e(){var t,n,r,o,c,l,i;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.fieldsValid()){e.next=7;break}return t=a.props,n=t.isCreation,r=t.addReminder,o=t.editReminder,c=t.removeReminder,l=t.onConfirmSuccess,e.next=4,U(a.state.formValues.city);case 4:i=e.sent,n?r(Object(d.a)({},a.state.formValues,{forecast:i})):(c(a.props.originalReminder),o(Object(d.a)({},a.state.formValues,{forecast:i}))),l();case 7:case"end":return e.stop()}},e)})))};var n=a.props.reminder?Object(d.a)({},a.props.reminder):{text:"",color:"",city:"",time:"00:00",date:a.props.date||m()()};return a.state={formValues:n,formErrors:{text:!1,color:!1,city:!1}},a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.formErrors,n=t.formValues,o=n.text,c=n.color,l=n.city,i=n.time,d=n.date;return r.a.createElement("div",{className:K.a.reminderForm},r.a.createElement("h2",null,this.props.isCreation?"Create Reminder":"Edit Reminder"),r.a.createElement("form",{className:K.a.form,onSubmit:this.onSubmitForm},r.a.createElement($,{title:"Date",value:d.format("YYYY-MM-DD"),onChange:function(t){return e.onInputChange("date",m()(t.target.value))},type:"date",disabled:void 0!==this.props.originalReminder}),r.a.createElement($,{title:"Time",value:i,onChange:function(t){return e.onInputChange("time",t.target.value)},type:"timePicker",options:W}),r.a.createElement($,{title:"Text",value:o,onChange:function(t){return e.onInputChange("text",t.target.value)},type:"multilineText",errorState:a.text}),r.a.createElement($,{title:"City",value:l,onChange:function(t){return e.onInputChange("city",t.target.value)},type:"text",errorState:a.city}),r.a.createElement($,{title:"Color",value:c,onChange:function(t){return e.onInputChange("color",t)},options:ee,type:"colorPicker",errorState:a.color}),r.a.createElement("button",{className:K.a.reminderConfirm},"Confirm")))}}]),t}(r.a.Component),ae={addReminder:function(e){return{type:"ADD_REMINDER",payload:e}},editReminder:function(e){return{type:"EDIT_REMINDER",payload:e}},removeReminder:j},ne=Object(l.b)(function(e,t){return t.originalReminder?{reminder:t.originalReminder,isCreation:!1}:{isCreation:!0}},ae)(te),re=a(19),oe=a(20),ce=a(22),le=a.n(ce),ie=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={modalOpen:!1},a.onShowReminderForm=function(e){e.stopPropagation(),a.setState({modalOpen:!0})},a.onHideReminderForm=function(){a.setState({modalOpen:!1})},a.onDeleteReminder=function(){var e=a.props;(0,e.removeReminder)(e.reminder)},a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.reminder,t=e.text,a=e.color,n=e.time,o=e.city,c=e.date,l=e.forecast;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:le.a.reminderItem,style:{backgroundColor:a},onClick:this.onShowReminderForm},r.a.createElement("button",{className:le.a.deleteReminder,onClick:this.onDeleteReminder},r.a.createElement(re.a,{icon:oe.e}),"Delete"),r.a.createElement("p",null,r.a.createElement(re.a,{icon:oe.b}),r.a.createElement("span",null,n)),r.a.createElement("p",null,r.a.createElement(re.a,{icon:oe.d}),r.a.createElement("span",null,t)),r.a.createElement("p",null,r.a.createElement(re.a,{icon:oe.c}),r.a.createElement("span",null,o)),r.a.createElement("p",null,r.a.createElement(re.a,{icon:oe.a}),r.a.createElement("span",null,""!==l?l:"No forecast available"))),this.state.modalOpen&&r.a.createElement(z,{onDismiss:this.onHideReminderForm,showOverlay:!0},r.a.createElement(ne,{originalReminder:this.props.reminder,date:c,onConfirmSuccess:this.onHideReminderForm})))}}]),t}(r.a.Component),de={removeReminder:j},se=Object(l.b)(null,de)(ie),me=function(e){var t=e.reminders;return t.length?r.a.createElement("div",{className:le.a.remindersList},t.map(function(e){return r.a.createElement(se,{key:e.time,reminder:e})})):null},ue=a(25),pe=a.n(ue),fe=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!0},a.renderTitle=function(){var e=a.props,t=e.date,n=e.reminders.length,r=1===n?"reminder":"reminders";return"".concat(t.format("MM/DD/YYYY")," (").concat(n," ").concat(r,")")},a.onDismissReminderForm=function(){a.setState({visible:!0})},a.onDeleteAllReminders=function(){var e=a.props;(0,e.removeAllDayReminders)(e.date)},a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reminders;return this.state.visible?r.a.createElement("div",{className:pe.a.dayRemindersModal},r.a.createElement("div",{className:pe.a.dayRemindersModalTitle},r.a.createElement("h3",null,this.renderTitle()),r.a.createElement("button",{className:pe.a.deleteAll,onClick:this.onDeleteAllReminders},"Delete all reminders")),r.a.createElement("div",null,r.a.createElement(me,{reminders:t})),r.a.createElement("button",{className:pe.a.addButton,onClick:function(){return e.setState({visible:!1})}},"+")):r.a.createElement(z,{onDismiss:this.onDismissReminderForm},r.a.createElement(ne,{date:this.props.date,onConfirmSuccess:this.onDismissReminderForm}))}}]),t}(r.a.Component),ye={removeAllDayReminders:function(e){return{type:"REMOVE_ALL_DAY_REMINDERS",payload:e}}},he=Object(l.b)(function(e,t){var a=e.reminders,n=t.date,r=a[n.year()]&&a[n.year()][n.month()]&&a[n.year()][n.month()][n.date()]?a[n.year()][n.month()][n.date()]:{};return{reminders:J(r)}},ye)(fe),be=a(7),ve=a.n(be),Ee=function(e){var t=e.onDayClick,a=e.isFromCurrentMonth,n=e.date,o=e.reminders;return r.a.createElement("div",{className:"".concat(ve.a.calendarItem," ").concat(a?"":ve.a.inactive),onClick:t},r.a.createElement("div",{className:"".concat(ve.a.dayNumber," ").concat(0===n.diff(f,"days")?ve.a.today:"")},r.a.createElement("span",null,n.date())),r.a.createElement(me,{reminders:o}))},_e=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={modalOpen:!1},a.onDayClick=function(){a.openModal()},a.openModal=function(){a.setState({modalOpen:!0})},a.closeModal=function(){a.setState({modalOpen:!1})},a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.isFromCurrentMonth,n=e.reminders;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{onDayClick:this.onDayClick,isFromCurrentMonth:a,reminders:n,date:t}),this.state.modalOpen&&r.a.createElement(z,{onDismiss:this.closeModal,showOverlay:!0},r.a.createElement(he,{date:t})))}}]),t}(r.a.Component),Oe=Object(l.b)(function(e,t){var a=e.reminders,n=t.date,r=a[n.year()]&&a[n.year()][n.month()]&&a[n.year()][n.month()][n.date()]?a[n.year()][n.month()][n.date()]:{};return{reminders:J(r)}},null)(_e),Ce=function(e){var t=e.week;return r.a.createElement("div",{className:ve.a.calendarWeekRow},t.map(function(e){var t=e.date,a=e.isFromCurrentMonth;return r.a.createElement(Oe,{key:"".concat(t.date(),"_").concat(t.month(),"_").concat(t.year()),date:t,isFromCurrentMonth:a})}))},Re=Object(l.b)(function(e){var t=e.calendar,a=t.selectedMonth,n=t.selectedYear;return{weeks:b({month:a,year:n})}},null)(function(e){var t=e.weeks,a=function(){var e=Object(n.useState)(w()),t=Object(g.a)(e,2),a=t[0],r=t[1],o=function(){r(w())};return Object(n.useEffect)(function(){return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}},[]),a}()?h.shortNames:h.fullNames;return r.a.createElement("div",{className:ve.a.calendarBody},r.a.createElement("div",{className:ve.a.calendarDaysTitleContainer},a.map(function(e){return r.a.createElement("div",{className:ve.a.dayTitle,key:e},e)})),r.a.createElement("div",{className:ve.a.calendarWeeksContainer},t.map(function(e,t){return r.a.createElement(Ce,{key:t,week:e})})))}),je=function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},r.a.createElement(N,null),r.a.createElement(Re,null))};a(74);c.a.render(r.a.createElement(l.a,{store:R},r.a.createElement(je,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.fd6a83ea.chunk.js.map